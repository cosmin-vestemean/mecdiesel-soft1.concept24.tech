<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test S1 Button Move</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid mt-3">
        <h2>🔄 Test: S1 Button Move to Manipulation Panel</h2>
        <div class="alert alert-info">
            <strong>Test Goal:</strong> Verify that the "Save to S1" button has been moved from query panel to manipulation panel and is properly grouped with Export button.
        </div>
        
        <!-- Test Component Container -->
        <div id="test-container">
            <branch-replenishment-container></branch-replenishment-container>
        </div>
        
        <!-- Test Status -->
        <div class="alert alert-secondary mt-3">
            <h5>Test Instructions:</h5>
            <ol>
                <li>Load the page and check if the "Save to S1" button appears in the manipulation panel (top area with search)</li>
                <li>Verify the button is grouped with the "Export" button using Bootstrap button group styling</li>
                <li>Confirm the button is no longer in the query panel (the area with source/destination controls)</li>
                <li>Test that the button is disabled when loading state is active</li>
                <li>Test that clicking the button triggers the same save functionality</li>
            </ol>
        </div>
        
        <!-- Console Output -->
        <div class="card mt-3">
            <div class="card-header">
                <h6 class="mb-0">Console Output</h6>
            </div>
            <div class="card-body">
                <div id="console-output" class="small text-monospace" style="height: 200px; overflow-y: auto; background: #f8f9fa; padding: 10px;"></div>
            </div>
        </div>
    </div>

    <!-- Import Components -->
    <script type="module">
        import './public/components/branch-replenishment-container.js';
        
        // Console capture for debugging
        const originalLog = console.log;
        const outputDiv = document.getElementById('console-output');
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            const timestamp = new Date().toLocaleTimeString();
            outputDiv.innerHTML += `<div>[${timestamp}] ${args.join(' ')}</div>`;
            outputDiv.scrollTop = outputDiv.scrollHeight;
        };
        
        // Test completion indicator
        document.addEventListener('DOMContentLoaded', () => {
            console.log('🧪 Test page loaded successfully');
            console.log('🔍 Check if Save to S1 button appears in manipulation panel');
            console.log('🔍 Check if button is grouped with Export button');
            console.log('🔍 Verify button functionality works as expected');
        });
        
        // Listen for events to verify functionality
        document.addEventListener('save-data', (e) => {
            console.log('✅ Save to S1 button clicked successfully!', e);
        });
        
        document.addEventListener('export-data', (e) => {
            console.log('✅ Export button clicked successfully!', e);
        });
    </script>
</body>
</html>
